<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap" rel=stylesheet><script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://ocm.software/main.d0ec8edd953852c02618a6fb8b76be7413423161156ebe0e1c7cddd3eb599a9e06c810d5482a63162fc389603dc20916227c06173f498a193ff402dd6faa017b.css integrity="sha512-0OyO3ZU4UsAmGKb7i3a+dBNCMWEVbr4OHHzd0+tZmp4GyBDVSCpjFi/DiWA9wgkWInwGFz9Jihk/9ALdb6oBew==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><style>@import 'https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;500;600;700;800&display=swap'</style><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>Structuring Software with OCM | Open Component Model</title><meta name=description content="Introduction Example Helm Charts Input Specification Building the Common Transport Archive Deploying Software Localization Example Updating Components Introduction # In this specification software products are comprised of logical units called components. A component version consists of a set of technical artifacts, e.g. Docker images, Helm charts, binaries, configuration data etc. Such artifacts are called resources in this specification. Resources are usually built from something, e.g. code in a git repo."><link rel=canonical href=https://ocm.software/docs/guides/structuring-software-with-ocm/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="Structuring Software with OCM"><meta property="og:description" content="Introduction Example Helm Charts Input Specification Building the Common Transport Archive Deploying Software Localization Example Updating Components Introduction # In this specification software products are comprised of logical units called components. A component version consists of a set of technical artifacts, e.g. Docker images, Helm charts, binaries, configuration data etc. Such artifacts are called resources in this specification. Resources are usually built from something, e.g. code in a git repo."><meta property="og:url" content="https://ocm.software/docs/guides/structuring-software-with-ocm/"><meta property="og:site_name" content="Open Component Model"><meta property="article:published_time" content="2022-08-12T10:36:48+01:00"><meta property="article:modified_time" content="2022-08-12T10:36:48+01:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="Structuring Software with OCM"><meta name=twitter:description content><meta name=twitter:card content="summary"><meta name=twitter:image:alt content="Structuring Software with OCM"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://ocm.software/#/schema/organization/1","name":"OCM","url":"https://ocm.software/","sameAs":["https://github.com/open-component-model"],"logo":{"@type":"ImageObject","@id":"https://ocm.software/#/schema/image/1","url":"https://ocm.software/","width":512,"height":512,"caption":"OCM"},"image":{"@id":"https://ocm.software/#/schema/image/1"}},{"@type":"WebSite","@id":"https://ocm.software/#/schema/website/1","url":"https://ocm.software/","name":"Open Component Model","description":"","publisher":{"@id":"https://ocm.software/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/","url":"https://ocm.software/docs/guides/structuring-software-with-ocm/","name":"Structuring Software with OCM","description":"","isPartOf":{"@id":"https://ocm.software/#/schema/website/1"},"about":{"@id":"https://ocm.software/#/schema/organization/1"},"datePublished":"2022-08-12T10:36:48CET","dateModified":"2022-08-12T10:36:48CET","breadcrumb":{"@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://ocm.software/docs/guides/structuring-software-with-ocm/"]}]},{"@type":"BreadcrumbList","@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://ocm.software","url":"https://ocm.software","name":"Home"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://ocm.software/docs/","url":"https://ocm.software/docs/","name":"Docs"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://ocm.software/docs/guides/","url":"https://ocm.software/docs/guides/","name":"Guides"}},{"@type":"ListItem","position":5,"item":{"@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Article","@id":"https://ocm.software/#/schema/article/1","headline":"Structuring Software with OCM","description":"","isPartOf":{"@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/"},"mainEntityOfPage":{"@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/"},"datePublished":"2022-08-12T10:36:48CET","dateModified":"2022-08-12T10:36:48CET","author":{"@id":"https://ocm.software/#/schema/person/2"},"publisher":{"@id":"https://ocm.software/#/schema/organization/1"},"image":{"@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/#/schema/image/2"}}]},{"@context":"https://schema.org","@graph":[{"@type":"Person","@id":"https://ocm.software/#/schema/person/2","name":"","sameAs":[]}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://ocm.software/docs/guides/structuring-software-with-ocm/#/schema/image/2","url":null,"contentUrl":null,"caption":"Structuring Software with OCM"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://ocm.software/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://ocm.software/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://ocm.software/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://ocm.software/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://ocm.software/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://ocm.software/site.webmanifest></head><body class="docs single"><div class=sticky-top><header class="navbar navbar-expand-lg navbar-light doks-navbar"><nav class="container-fluid flex-wrap flex-lg-nowrap" aria-label="Main navigation"><a class="navbar-brand order-0" href=/ aria-label="Open Component Model"><img src=/images/logo-horizontal-white-text.png alt="Open Component Model Logo" class=header-logo></a>
<button class="btn btn-link order-0 ms-auto d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasExample aria-controls=offcanvasExample><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-more-horizontal"><circle cx="12" cy="12" r="1"/><circle cx="19" cy="12" r="1"/><circle cx="5" cy="12" r="1"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasExample aria-labelledby=offcanvasExampleLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasExampleLabel>Browse docs</h5><button type=button class=btn-close data-bs-dismiss=offcanvas aria-label=Close></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3><hr class="mt-1 mb-1"><ul class="list-unstyled ms-2 mt-2 mb-0"></ul><a class=docs-link href=https://ocm.software/docs/overview/><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/context/>Context</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/scope/>Scope</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/installation/>Installation</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/contributing/>Contributing</a></li></ul><a class="docs-link active" href=https://ocm.software/docs/guides/><h3 class="h6 text-capitalize mt-1 mb-1">Guides</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/getting-started-with-ocm/>Getting Started with OCM</a></li><li class=ms-2><a class="docs-link active" href=https://ocm.software/docs/guides/structuring-software-with-ocm/>Structuring Software with OCM</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/deploying-applications-with-ocm-and-gitops/>Deploying Applications with OCM & GitOps</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/air-gapped-gitops-with-ocm-and-flux/>Air-gapped GitOps with OCM & Flux</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/gitops-driven-configuration-of-ocm-applications/>GitOps Driven Configuration of OCM Applications</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/input_and_access/>Input and Access Types</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/best-practices-with-ocm/>Best Practices</a></li></ul><a class=docs-link href=https://ocm.software/docs/component-descriptors/><h3 class="h6 text-capitalize mt-1 mb-1">Component Descriptors</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-3/>Version 3</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-2/>Version 2 (legacy)</a></li></ul><a class=docs-link href=https://ocm.software/docs/cli/><h3 class="h6 text-capitalize mt-1 mb-1">CLI Reference</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li><a class=docs-link href=https://ocm.software/docs/cli/add/><h4 class="h6 text-muted ms-1 mt-2 mb-1">add</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/add/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resource-configuration/>resource-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/source-configuration/>source-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/clean/><h4 class="h6 text-muted ms-1 mt-2 mb-1">clean</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/clean/cache/>cache</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/create/><h4 class="h6 text-muted ms-1 mt-2 mb-1">create</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/create/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/rsakeypair/>rsakeypair</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/transportarchive/>transportarchive</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/describe/><h4 class="h6 text-muted ms-1 mt-2 mb-1">describe</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/describe/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/describe/plugins/>plugins</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/download/><h4 class="h6 text-muted ms-1 mt-2 mb-1">download</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/download/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/resources/>resources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/get/><h4 class="h6 text-muted ms-1 mt-2 mb-1">get</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/get/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/credentials/>credentials</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/plugins/>plugins</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/show/><h4 class="h6 text-muted ms-1 mt-2 mb-1">show</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/show/tags/>tags</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/show/versions/>versions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/sign/><h4 class="h6 text-muted ms-1 mt-2 mb-1">sign</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/sign/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/><h4 class="h6 text-muted ms-1 mt-2 mb-1">transfer</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/commontransportarchive/>commontransportarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/verify/><h4 class="h6 text-muted ms-1 mt-2 mb-1">verify</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/verify/componentversions/>componentversions</a></li></ul></ul><a class=docs-link href=https://ocm.software/docs/controller-reference/><h3 class="h6 text-capitalize mt-1 mb-1">Kubernetes Controllers</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/controller-reference/installation/>Installation</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/><h4 class="h6 text-muted ms-1 mt-2 mb-1">OCM Controller</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/component-version/>Component Version</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/><h4 class="h6 text-muted ms-1 mt-2 mb-1">API Reference</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/ocm-controller/>OCM Controller API v1</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/replication-controller/>Replication Controller API v1</a></li></ul></ul></nav></aside></div></div><button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a href=/>Open Component Model</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0 align-self-end"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2"><li class=nav-item><a class="nav-link ps-0 py-1 active" href=/docs/overview/context>Docs</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/spec/>Spec</a></li><li class=nav-item><a class="nav-link ps-0 py-1" href=/project/about>Project</a></li></ul><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/open-component-model><svg width="36" height="36" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M8 0C3.58.0.0 3.58.0 8c0 3.54 2.29 6.53 5.47 7.59C5.87 15.66 6.02 15.42 6.02 15.21 6.02 15.02 6.01 14.39 6.01 13.72 4 14.09 3.48 13.23 3.32 12.78 3.23 12.55 2.84 11.84 2.5 11.65 2.22 11.5 1.82 11.13 2.49 11.12 3.12 11.11 3.57 11.7 3.72 11.94 4.44 13.15 5.59 12.81 6.05 12.6 6.12 12.08 6.33 11.73 6.56 11.53 4.78 11.33 2.92 10.64 2.92 7.58c0-.87.31-1.59.82-2.15C3.66 5.23 3.38 4.41 3.82 3.31c0 0 .67-.21 2.2.82C6.66 3.95 7.34 3.86 8.02 3.86S9.38 3.95 10.02 4.13c1.53-1.04 2.2-.82 2.2-.82C12.66 4.41 12.38 5.23 12.3 5.43 12.81 5.99 13.12 6.7 13.12 7.58c0 3.07-1.87 3.75-3.65 3.95C9.76 11.78 10.01 12.26 10.01 13.01 10.01 14.08 10 14.94 10 15.21 10 15.42 10.15 15.67 10.55 15.59 13.71 14.53 16 11.53 16 8c0-4.42-3.58-8-8-8z" fill="#f3f3f3"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul></div></div></nav></header></div><div class=container-fluid><aside class=doks-sidebar><nav id=doks-docs-nav class="collapse d-lg-none" aria-label="Tertiary navigation"><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3><hr class="mt-1 mb-1"><ul class="list-unstyled ms-2 mt-2 mb-0"></ul><a class=docs-link href=https://ocm.software/docs/overview/><h3 class="h6 text-capitalize mt-1 mb-1">Overview</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/context/>Context</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/scope/>Scope</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/installation/>Installation</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/overview/contributing/>Contributing</a></li></ul><a class="docs-link active" href=https://ocm.software/docs/guides/><h3 class="h6 text-capitalize mt-1 mb-1">Guides</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/getting-started-with-ocm/>Getting Started with OCM</a></li><li class=ms-2><a class="docs-link active" href=https://ocm.software/docs/guides/structuring-software-with-ocm/>Structuring Software with OCM</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/deploying-applications-with-ocm-and-gitops/>Deploying Applications with OCM & GitOps</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/air-gapped-gitops-with-ocm-and-flux/>Air-gapped GitOps with OCM & Flux</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/gitops-driven-configuration-of-ocm-applications/>GitOps Driven Configuration of OCM Applications</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/input_and_access/>Input and Access Types</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/guides/best-practices-with-ocm/>Best Practices</a></li></ul><a class=docs-link href=https://ocm.software/docs/component-descriptors/><h3 class="h6 text-capitalize mt-1 mb-1">Component Descriptors</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-3/>Version 3</a></li><li class=ms-2><a class=docs-link href=https://ocm.software/docs/component-descriptors/version-2/>Version 2 (legacy)</a></li></ul><a class=docs-link href=https://ocm.software/docs/cli/><h3 class="h6 text-capitalize mt-1 mb-1">CLI Reference</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li><a class=docs-link href=https://ocm.software/docs/cli/add/><h4 class="h6 text-muted ms-1 mt-2 mb-1">add</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/add/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resource-configuration/>resource-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/source-configuration/>source-configuration</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/add/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/clean/><h4 class="h6 text-muted ms-1 mt-2 mb-1">clean</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/clean/cache/>cache</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/create/><h4 class="h6 text-muted ms-1 mt-2 mb-1">create</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/create/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/rsakeypair/>rsakeypair</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/create/transportarchive/>transportarchive</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/describe/><h4 class="h6 text-muted ms-1 mt-2 mb-1">describe</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/describe/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/describe/plugins/>plugins</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/download/><h4 class="h6 text-muted ms-1 mt-2 mb-1">download</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/download/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/download/resources/>resources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/get/><h4 class="h6 text-muted ms-1 mt-2 mb-1">get</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/get/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/componentversions/>componentversions</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/credentials/>credentials</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/plugins/>plugins</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/references/>references</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/resources/>resources</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/get/sources/>sources</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/show/><h4 class="h6 text-muted ms-1 mt-2 mb-1">show</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/show/tags/>tags</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/show/versions/>versions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/sign/><h4 class="h6 text-muted ms-1 mt-2 mb-1">sign</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/sign/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/><h4 class="h6 text-muted ms-1 mt-2 mb-1">transfer</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/artifacts/>artifacts</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/commontransportarchive/>commontransportarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentarchive/>componentarchive</a></li><li><a class=docs-link href=https://ocm.software/docs/cli/transfer/componentversions/>componentversions</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/cli/verify/><h4 class="h6 text-muted ms-1 mt-2 mb-1">verify</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/cli/verify/componentversions/>componentversions</a></li></ul></ul><a class=docs-link href=https://ocm.software/docs/controller-reference/><h3 class="h6 text-capitalize mt-1 mb-1">Kubernetes Controllers</h3></a><hr class="mt-1 mb-1"><ul class="list-unstyled mb-0"><li class=ms-2><a class=docs-link href=https://ocm.software/docs/controller-reference/installation/>Installation</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/><h4 class="h6 text-muted ms-1 mt-2 mb-1">OCM Controller</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/ocm-controller/component-version/>Component Version</a></li></ul><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/><h4 class="h6 text-muted ms-1 mt-2 mb-1">API Reference</h4></a></li><ul class="list-unstyled ms-3"><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/ocm-controller/>OCM Controller API v1</a></li><li><a class=docs-link href=https://ocm.software/docs/controller-reference/api-reference/replication-controller/>Replication Controller API v1</a></li></ul></ul></nav></aside></div><div class="wrap container-fluid" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav id=docs-sidebar class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar mt-0 mb-0"><ul class="list-unstyled ms-0 mt-5 mb-0"></ul><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3b878279a04dc47d60932cb294d96259 aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Overview</h3></button><div class=collapse id=section-3b878279a04dc47d60932cb294d96259><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/context/>Context</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/scope/>Scope</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/installation/>Installation</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/overview/contributing/>Contributing</a></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-45389ee90014e0938cb09409b9a8794d aria-expanded=true><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Guides</h3></button><div class="collapse show" id=section-45389ee90014e0938cb09409b9a8794d><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/getting-started-with-ocm/>Getting Started with OCM</a></li><li><a class="docs-link rounded active" href=https://ocm.software/docs/guides/structuring-software-with-ocm/>Structuring Software with OCM</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/deploying-applications-with-ocm-and-gitops/>Deploying Applications with OCM & GitOps</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/air-gapped-gitops-with-ocm-and-flux/>Air-gapped GitOps with OCM & Flux</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/gitops-driven-configuration-of-ocm-applications/>GitOps Driven Configuration of OCM Applications</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/input_and_access/>Input and Access Types</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/guides/best-practices-with-ocm/>Best Practices</a></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-586e8b59e93b90a392c4668ce7563d70 aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Component Descriptors</h3></button><div class=collapse id=section-586e8b59e93b90a392c4668ce7563d70><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/component-descriptors/version-3/>Version 3</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/component-descriptors/version-2/>Version 2 (legacy)</a></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-2d9467b3dfd2e1e77d466040435daff4 aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">CLI Reference</h3></button><div class=collapse id=section-2d9467b3dfd2e1e77d466040435daff4><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-34ec78fcc91ffb1e54cd85e4a0924332 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">add</h5></button><div class=collapse id=section-34ec78fcc91ffb1e54cd85e4a0924332><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/componentversions/>componentversions</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/references/>references</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/resource-configuration/>resource-configuration</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/resources/>resources</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/source-configuration/>source-configuration</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/add/sources/>sources</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-123402c04dcfb6625f688f771a5fc05d aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">clean</h5></button><div class=collapse id=section-123402c04dcfb6625f688f771a5fc05d><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/clean/cache/>cache</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-76ea0bebb3c22822b4f0dd9c9fd021c5 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">create</h5></button><div class=collapse id=section-76ea0bebb3c22822b4f0dd9c9fd021c5><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/create/componentarchive/>componentarchive</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/create/rsakeypair/>rsakeypair</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/create/transportarchive/>transportarchive</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-0d16430e9f0aa8879ba9dac2540543fc aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">describe</h5></button><div class=collapse id=section-0d16430e9f0aa8879ba9dac2540543fc><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/describe/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/describe/plugins/>plugins</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-fd456406745d816a45cae554c788e754 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">download</h5></button><div class=collapse id=section-fd456406745d816a45cae554c788e754><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/download/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/download/componentversions/>componentversions</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/download/resources/>resources</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-b5eda0a74558a342cf659187f06f746f aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">get</h5></button><div class=collapse id=section-b5eda0a74558a342cf659187f06f746f><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/componentversions/>componentversions</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/credentials/>credentials</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/plugins/>plugins</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/references/>references</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/resources/>resources</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/get/sources/>sources</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-a7dd12b1dab17d25467b0b0a4c8d4a92 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">show</h5></button><div class=collapse id=section-a7dd12b1dab17d25467b0b0a4c8d4a92><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/show/tags/>tags</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/show/versions/>versions</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-04b29480233f4def5c875875b6bdc3b1 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">sign</h5></button><div class=collapse id=section-04b29480233f4def5c875875b6bdc3b1><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/sign/componentversions/>componentversions</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-84a0f3455dcca894ace136be62efa292 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">transfer</h5></button><div class=collapse id=section-84a0f3455dcca894ace136be62efa292><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/artifacts/>artifacts</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/commontransportarchive/>commontransportarchive</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/componentarchive/>componentarchive</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/transfer/componentversions/>componentversions</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-e8418d1d706cd73548f9f16f1d55ad6e aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-lowercase text-muted mt-1 mb-1">verify</h5></button><div class=collapse id=section-e8418d1d706cd73548f9f16f1d55ad6e><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/cli/verify/componentversions/>componentversions</a></li></ul></div></li></ul></div></li><li class="mb-0 mt-0"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-8953fee62c09283faf60084f6db3826e aria-expanded=false><h3 class="h6 text-capitalize pt-2 mt-0 mb-0">Kubernetes Controllers</h3></button><div class=collapse id=section-8953fee62c09283faf60084f6db3826e><hr class="mt-1 mb-1"><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/installation/>Installation</a></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-77c54d2a9106c22e3bc203d8b35bd627 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">OCM Controller</h5></button><div class=collapse id=section-77c54d2a9106c22e3bc203d8b35bd627><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/ocm-controller/component-version/>Component Version</a></li></ul></div></li><li class=ms-0><button class="btn btn-toggle nav-link align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-05b017e42952fddf972dcdfddede5740 aria-expanded=false>
<i class="bi bi-caret-right-fill text-white"></i><h6 class="h6 text-capitalize text-muted mt-1 mb-1">API Reference</h5></button><div class=collapse id=section-05b017e42952fddf972dcdfddede5740><ul class="btn-toggle-nav list-unstyled mb-0"><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/api-reference/ocm-controller/>OCM Controller API v1</a></li><li><a class="docs-link rounded" href=https://ocm.software/docs/controller-reference/api-reference/replication-controller/>Replication Controller API v1</a></li></ul></div></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a><ul><li><a href=#helm-charts>Helm Charts</a></li><li><a href=#input-specification>Input Specification</a></li><li><a href=#building-the-common-transport-archive>Building the Common Transport Archive</a></li></ul></li><li><a href=#deploying-software>Deploying Software</a><ul><li><a href=#localization>Localization</a></li><li><a href=#example-1>Example</a></li></ul></li><li><a href=#updating-components>Updating Components</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a><ul><li><a href=#helm-charts>Helm Charts</a></li><li><a href=#input-specification>Input Specification</a></li><li><a href=#building-the-common-transport-archive>Building the Common Transport Archive</a></li></ul></li><li><a href=#deploying-software>Deploying Software</a><ul><li><a href=#localization>Localization</a></li><li><a href=#example-1>Example</a></li></ul></li><li><a href=#updating-components>Updating Components</a></li></ul></nav></div></nav><main class="docs-content container-xxl col-lg-11 col-xl-9"><h1>Structuring Software with OCM</span></h1><p class=lead></p><nav class=d-xl-none aria-label="Quaternary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a><ul><li><a href=#helm-charts>Helm Charts</a></li><li><a href=#input-specification>Input Specification</a></li><li><a href=#building-the-common-transport-archive>Building the Common Transport Archive</a></li></ul></li><li><a href=#deploying-software>Deploying Software</a><ul><li><a href=#localization>Localization</a></li><li><a href=#example-1>Example</a></li></ul></li><li><a href=#updating-components>Updating Components</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a><ul><li><a href=#helm-charts>Helm Charts</a></li><li><a href=#input-specification>Input Specification</a></li><li><a href=#building-the-common-transport-archive>Building the Common Transport Archive</a></li></ul></li><li><a href=#deploying-software>Deploying Software</a><ul><li><a href=#localization>Localization</a></li><li><a href=#example-1>Example</a></li></ul></li><li><a href=#updating-components>Updating Components</a></li></ul></nav></div></nav><ul><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a><ul><li><a href=#helm-charts>Helm Charts</a></li><li><a href=#input-specification>Input Specification</a></li><li><a href=#building-the-common-transport-archive>Building the Common Transport Archive</a></li></ul></li><li><a href=#deploying-software>Deploying Software</a><ul><li><a href=#localization>Localization</a></li><li><a href=#example-1>Example</a></li></ul></li><li><a href=#updating-components>Updating Components</a></li></ul><h2 id=introduction>Introduction <a href=#introduction class=anchor aria-hidden=true>#</a></h2><p>In this specification software products are comprised of logical units called
<a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/specification/elements/README.md#components><strong>components</strong></a>. A component version
consists of a set of technical <a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/specification/elements/README.md#artifacts>artifacts</a>,
e.g. Docker images, Helm charts, binaries, configuration data etc.
Such artifacts are called <strong>resources</strong> in this specification. Resources are usually built
from something, e.g. code in a git repo. Those are named <strong>sources</strong> in this specification.</p><p>OCM introduces a <strong>Component Descriptor</strong> for every component version, that
describes the resources, sources and other component versions belonging to a particular
component version and how to access them.</p><p>Usually however real-life applications are composed of multiple components. For
example an application might consist of a frontend, a backend, a database and a web server.
During the software development process new
<a href=https://github.com/open-component-model/ocm-spec/blob/main/doc/specification/elements/README.md#component-versions><strong>component versions</strong></a>
are created and third-party components might be consumed from a public registry and
updated from time to time.</p><p>Not all component version combinations of frontend, backend, database etc.are
compatible and form a valid product version. In order to define reasonable
version combinations for the software product, we could use another feature of
the <em>Component Descriptor</em>, called component reference (or reference in short) which allows
the aggregation of component versions.</p><p>For each component and each version in use there is a <em>Component Descriptor</em>. For the
entire application we introduce a new component that describes the overall software
product referencing all components. This describes the entire application.</p><p>A particular version of this application is again described by a <em>Component Descriptor</em>,
which contains references to <em>Component Descriptors</em> of its components in their version in
use. You are not restricted to this approach. It is e.g. possible to create multi-level
hierarchies or you could just maintain a list of component version combinations which build
a valid product release.</p><p>In a nutshell OCM provides a simple approach to specify what belongs to a product version.
Starting with the <em>Component Descriptor</em> for a product version and following the component
references, you could collect all artifacts, belonging to this product version.</p><h2 id=example>Example <a href=#example class=anchor aria-hidden=true>#</a></h2><p>Let&rsquo;s illustrate this idea by an example. As base we use the &lsquo;microblog&rsquo; application. This
application was created for a programming tutorial and is documented in detail
<a href=https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world>here</a>.
The source code can be found <a href=https://github.com/miguelgrinberg/microblog/>here</a>.</p><p>At the end of the tutorial this application consists of the following components:</p><ul><li>Microblog application written in Python</li><li>A database MySQL or MariaDB</li><li>A full-text search engine elasticsearch</li><li>Redis to support task queues for background processing</li><li>For a Kubernetes deployment and nginx ingress controller is needed in addition.</li></ul><p><img class="img-fluid lazyload blur-up" src=/images/example-app.png alt="Example Application Architecture"></p><p>Following the guideline above we will end-up with six component versions: Five are created
for the components in this list. And one component is created describing the application
deployment and referencing all the sub-components. Looking closer at the components we can encounter three different flavors:</p><ul><li>The deployment component describing a product release and referencing all used components</li><li>The main application component consisting of source code and to a container image.</li><li>Third party components consumed as binaries located in a public repository.</li></ul><p>For building composed components the <a href=../getting-started-with-ocm#all-in-one>&ldquo;All-in-one&rdquo;</a>
mechanism becomes handy.</p><h3 id=helm-charts>Helm Charts <a href=#helm-charts class=anchor aria-hidden=true>#</a></h3><p>Kubernetes deployments often use helm charts. The OCM specification supports helm charts as
an artifact type. For the microblog application we will create out own helm chart. For the
third-party components we will use readily available helm charts from public helm chart
repostories.</p><p>The OCM CLI supports referencing helm charts being stored in an OCI registry. However most
publicly available helm charts currently are available from helm chart repositories and
not from OCI registries. Therefore the helm charts are embedded in the component archive.
This can easily be achieved with the helm CLI:</p><pre><code>helm repo add &lt;repo-name&gt; &lt;helm-chart-repo-url&gt;
helm pull --destination &lt;target-dir&gt; &lt;repo-name/chart-name&gt;
</code></pre><p>Example:</p><pre><code>helm repo add bitnami https://charts.bitnami.com/bitnami
helm pull --destination . bitnami/mariadb
</code></pre><p>The helm chart for mariadb is then stored in the current working directory as <code>mariadb:11.4.5.tgz</code> and can be referenced as path from there in the <code>components.yaml</code> file (see below).</p><p>The helm chart for the microblog application is our own and part of the source code. It is
not downloaded from a public repository.</p><h3 id=input-specification>Input Specification <a href=#input-specification class=anchor aria-hidden=true>#</a></h3><p>The corresponding input file for building the component version (<code>components.yaml</code>) will then look like this:</p><pre><code class=language-yaml>components:
# Deployable component: microblog-deployment
# - contains application and references all runtime dependencies
# - used as root component to deploy the complete application
# - version numbering scheme follows the main application
- name: ${COMPONENT_NAME_PREFIX}/microblog-deployment
  version: ${VERSION}
  provider:
    name: ${PROVIDER}
  componentReferences:
  - name: microblog
    componentName: ocm.software/microblog/microblog
    version: ${VERSION}
  - name: nginx-controller
    componentName: ocm.software/microblog/nginx-controller
    version: ${NGINX_VERSION}
  - name: mariadb
    componentName: ocm.software/microblog/mariadb
    version: ${MARIADB_VERSION}
  - name: elasticsearch
    componentName: ocm.software/microblog/elasticsearch
    version: ${ELASTIC_VERSION}
#
# Main application component: microblog
# - has a source repository and compiles its own images
- name: ${COMPONENT_NAME_PREFIX}/microblog
  version: ${VERSION}
  provider:
    name: ${PROVIDER}
  sources:
  - name: source
    type: filesytem
    access:
      type: github
      repoUrl: github.com/acme.org^/microblog
      commit: ${COMMIT}
    version: ${VERSION}
  resources:
  - name: microblog-chart
    type: helmChart
    input:
      type: helm
      path: ../microblog-helmchart
  - name: microblog-image
    type: ociImage
    version: ${VERSION}
    input:
      type: dockermulti
      repository: microblog
      variants:
      - microblog:${VERSION}-linux-amd64
      - microblog:${VERSION}-linux-arm64
#
# Nginx-Controller Component
# - runtime dependency, use pre-built images, embeds helm chart
- name: ${COMPONENT_NAME_PREFIX}/nginx-controller
  version: ${NGINX_VERSION}
  provider:
    name: ${PROVIDER}
  resources:
  - name: nginx-controller-chart
    type: helmChart
    input:
      type: helm
      path: nginx/ingress-nginx-${NGINX_CHART_VERSION}.tgz
  - name: nginx-controller-image
    type: ociImage
    version: ${NGINX_VERSION}
    access:
      type: ociArtifact
      imageReference: registry.k8s.io/ingress-nginx/controller:v${NGINX_VERSION}
#
# Maria-DB Component
# - runtime dependency, use pre-built images, embeds helm chart
- name: ${COMPONENT_NAME_PREFIX}/mariadb
  version: ${MARIADB_VERSION}
  provider:
    name: ${PROVIDER}
  resources:
  - name: mariadb-chart
    type: helmChart
    input:
      type: helm
      path: mariadb/mariadb-${MARIADB_CHART_VERSION}.tgz
  - name: mariadb-image
    type: ociImage
    version: ${MARIADB_VERSION}
    access:
      type: ociArtifact
      imageReference: bitnami/mariadb:${MARIADB_VERSION}-debian-11-r12
#
# Elasticsearch Component:
# - runtime dependency, use pre-built images, embeds helm chart
- name: ${COMPONENT_NAME_PREFIX}/elasticsearch
  version: ${ELASTIC_VERSION}
  provider:
    name: ${PROVIDER}
  resources:
  - name: elasticsearch-chart
    type: helmChart
    input:
      type: helm
      path: elastic/elasticsearch-${ELASTIC_VERSION}.tgz
  - name: elasticsearch-image
    type: ociImage
    version: ${ELASTIC_VERSION}
    access:
      type: ociArtifact
      imageReference: docker.elastic.co/elasticsearch/elasticsearch:${ELASTIC_VERSION}

</code></pre><p>Some frequently changing parameters have been extracted as variables. The OCM CLI uses
templating to fill them with values. The templating mechanism is described
<a href=../best-practices-with-ocm#templating-the-resources>here</a>. For this example
we use the simple (default) template engine type <code>subst</code>.</p><p>Note the differences between the various components:</p><ul><li>The microblog-deployment is the root and contains only references to other components</li><li>The microblog application is the main application, built from sources. It has <code>sources</code>.</li><li>The microblog application consists of an image and a helm chart. The image is built in
previous build step (not described here) and taken from the local docker registry. The
two images for different architectures are converted to a multi-arch image.</li><li>All other components are third-party components and referenced from public registries.</li></ul><h3 id=building-the-common-transport-archive>Building the Common Transport Archive <a href=#building-the-common-transport-archive class=anchor aria-hidden=true>#</a></h3><p>From the input file <code>components.yaml</code> the common transport archive can be created with the
OCM CLI. For all variables we need to provide values. Variable values can be passed in the
command line or stored in a file. For many variable having a values file is more convenient.
The corresponding file <code>settings.yaml</code> may look like this:</p><pre><code class=language-yaml>VERSION: 0.23.1
COMMIT: 5f03021059c7dbe760ac820a014a8a84166ef8b4
NAME: microblog
COMPONENT_NAME_PREFIX: github.com/acme.org/microblog
PROVIDER: acme.org
ELASTIC_VERSION: 8.5.1
MARIADB_VERSION: 10.6.11
MARIADB_CHART_VERSION: 11.4.2
NGINX_VERSION: 1.5.1
NGINX_CHART_VERSION: 4.4.2
</code></pre><p>Create the transport archive then with:</p><pre><code class=language-shell>ocm add componentversions --create --file &lt;ctf-target-dir&gt; --settings settings.yaml components.yaml
</code></pre><p>You can view the generated component descriptor using the command:</p><pre><code class=language-shell>ocm get component -o yaml &lt;ctf-target-dir&gt;
</code></pre><p>You can store the transport archive in an OCI registry (this step needs a proper
configuration of credentials for the OCM CLI):</p><pre><code class=language-shell>ocm transfer ctf -f &lt;ctf-target-dir&gt; &lt;oci-repo-url&gt;
</code></pre><p>Note: Be careful with the <code>-f</code> or <code>--overwrite</code> flag. This will replace existing component
versions in the OCI registry. During development it is useful being able to overwrite
existing component versions until something is ready for release. <strong>For released versions
you should never use this flag</strong>! Released component versions should be immutable and
should never be overwritten. They serve as source of truth for what the release is made of
und should never be changed.</p><h2 id=deploying-software>Deploying Software <a href=#deploying-software class=anchor aria-hidden=true>#</a></h2><p>Up to now we have created a transport archive containig all required parts (images, helm charts) for
installing the application. This archive is self-contained and can be transferred with a single
command from the OCM tooling. After pushing this archive to an OCI-registry we have a shared location
that can be used as a source of deployment without any external references. As an alternative you can
transport the archive using offline mechanisms (file transfer, USB-stick) and push it on a target
location to an OCI registry.</p><p>To actually deploy the application we need to get access to the helm charts contained in the archive.
We can use the ocm CLI to retrieve their location. See the <a href=#example-1>example</a> below.</p><h3 id=localization>Localization <a href=#localization class=anchor aria-hidden=true>#</a></h3><p>The deployments in a Kubernetes cluster require an image for instantiating a container. With each
transport of the archive the image location changes. The image location can be set as a helm value
for a helm based installation. The actual value for the current deployment has to be extracted from
the component-descriptor and inserted into a helm values file for a helm based installation. In the
example below we will do the necessary steps. For real deplyoments you will usually use tools to
automate this. The <a href=https://github.com/open-component-model/ocm/blob/main/docs/reference/ocm_bootstrap_componentversions_toi-bootstrapping.md>toi installation toolkit</a>
is one tool supporting this. The <a href=../getting-started-with-ocm-flux/>Flux OCM controllers</a>
offer this functionality too.</p><h3 id=example-1>Example <a href=#example-1 class=anchor aria-hidden=true>#</a></h3><p>Let&rsquo;s assume that we have pushed the transport archive to an OCI registry. We need the identity of the
component version and the location of the component-descriptors in the OCI registry:</p><p>ComponentVersion:
name: <code>github.com/jensh007/microblog-deployment</code>
version: <code>0.23.1</code></p><p>URL of OCI registry: <code>ghcr.io/acme.org/microblogapp</code></p><p>It is convenient to put this into an environment variable:</p><pre><code class=language-yaml>OCMREPO=github.com/acme.org/microblog
</code></pre><p>Getting all component-versions of the application with the ocm cli:</p><pre><code class=language-yaml>ocm get component ${OCM_REPO}//github.com/jensh007/microblog-deployment:0.23.1 -o yaml

---
context: []
element:
  component:
    componentReferences:
    - componentName: github.com/jensh007/microblog
      name: microblog
      version: 0.23.1
    - componentName: github.com/jensh007/nginx-controller
      name: nginx-controller
      version: 1.5.1
    - componentName: github.com/jensh007/mariadb
      name: mariadb
      version: 10.11.2
    - componentName: github.com/jensh007/elasticsearch
      name: elasticsearch
      version: 8.5.1
    - componentName: github.com/jensh007/redis
      name: redis
      version: 7.0.9
    name: github.com/jensh007/microblog-deployment
    provider:
      name: ocm.software
    repositoryContexts:
    ...
    resources: []
    sources: []
    version: 0.23.1
  meta:
    ...
</code></pre><p>With this we can drill down to the installable helm charts and the container images:</p><pre><code class=language-shell>ocm get resource ${OCM_REPO}//github.com/jensh007/microblog:0.23.1 -o wide

NAME            VERSION IDENTITY TYPE      RELATION ACCESSTYPE  ACCESSSPEC
microblog-chart 0.23.1           helmChart local    ociArtifact {&quot;imageReference&quot;:&quot;ghcr.io/acme.org/microblogapp/github.com/jensh007/microblog/microblog:0.23.1&quot;}
microblog-image 0.23.1           ociImage  local    ociArtifact {&quot;imageReference&quot;:&quot;ghcr.io/acme.org/microblogapp/github.com/jensh007/microblog/images/microblog:0.23.1&quot;}
</code></pre><p>With this information we can create a helm values file with the updated image reference:</p><p><code>microblog_values_localized.yaml</code>:</p><pre><code class=language-yaml>image:
    repository: ghcr.io/acme.org/microblogapp/github.com/jensh007/microblog/images/microblog
    tag: &quot;0.23.1&quot;
imagePullSecrets:
  - name: gcr-secret
</code></pre><p>For a private registry you may also need to specify an image pull secret. This secret has to be present on the target cluster before calling helm commands.</p><pre><code class=language-yaml>image:
    ...
imagePullSecrets:
  - name: gcr-secret
</code></pre><p>Note: For a real application deployment there will be more localized settings. Number of replicas, domain names in Ingress specs are typical examples.</p><p>The following steps will act on a target cluster. For this we assume that your <code>KUBECONFIG</code> enviroment variable is set correctly (or append <code>--kubeconfig</code> option).
We will need a namespace in the target cluster. We use the namespace <code>dev</code>for this example:</p><pre><code>kubectl create namespace dev
</code></pre><p>With the localized values we can instruct <code>helm</code> to perform an installation:</p><pre><code class=language-shell>helm install -n dev microblog oci://ghcr.io/acme.org/microblogapp/github.com/jensh007/microblog/microblog --version 0.23.1  --values microblog_values_localized.yaml

Pulled: ghcr.io/acme.org/microblogapp/github.com/jensh007/microblog/microblog:0.23.1
Digest: sha256:2841665cf3f669ed0a45e70c77bbe27a91ae4dde2d119117ae1e7c1f486ce510
NAME: microblog
LAST DEPLOYED: Fri Mar 10 09:28:04 2023
NAMESPACE: dev
STATUS: deployed
REVISION: 1
NOTES:
1. Get the application URL by running these commands:
  https://microblog.ocm2.hubforplay.shoot.canary.k8s-hana.ondemand.com/

</code></pre><p>This command instructs helm to create a helm release named <code>microblog</code> and use the
helm chart from our OCI-registry. The location was grabbed from the command above.</p><p>If the command succeeds you can retrieve the status with:</p><pre><code class=language-shell>helm list
NAME     	NAMESPACE	REVISION	UPDATED                             	STATUS  	CHART              	APP VERSION
microblog	dev      	1       	2023-03-10 09:28:04.658464 +0100 CET	deployed	microblog-0.23.1   	0.23.1
</code></pre><p>You can also check the created pod:</p><pre><code class=language-shell>kubectl get pods
NAME                                              READY   STATUS             RESTARTS      AGE
microblog-7c65dc4d9d-tvr97                        0/2     CrashLoopBackOff   10 (5s ago)   6m5s

k describe pod microblog-7c65dc4d9d-tvr97

...
Containers:
  microblog:
    ...
    Image:         ghcr.io/acme.org/microblogapp/github.com/jensh007/microblog/images/microblog:0.23.1
...

</code></pre><p>The pod is not in the status running yet because it is missing the required dependencies. We need to perform the additional steps to install them. The steps are the same so we do not repeat them in detail again:</p><pre><code class=language-shell>ocm get resource ${OCM_REPO}//github.com/jensh007/nginx-controller:1.5.1 -o wide
ocm get resource ${OCM_REPO}//github.com/jensh007/mariadb:10.11.2 -o wide
ocm get resource ${OCM_REPO}//github.com/jensh007/elasticsearch:8.5.1 -o wide
ocm get resource ${OCM_REPO}//github.com/jensh007/redis:7.09 -o wide
</code></pre><p>Create files:</p><ul><li>nginx_values_localized.yaml</li><li>mariadb_values_localized.yaml</li><li>elasticsearch_values_localized.yaml</li><li>redis_values_localized.yaml</li></ul><p>and install with:</p><pre><code>helm install -n dev nginx oci://ghcr.io/acme.org/microblogapp/github.com/jensh007/nginx-controller/ingress-nginx --version 4.4.2 --values nginx_values_localized.yaml
helm install -n dev mariadb oci://ghcr.io/acme.org/microblogapp/github.com/jensh007/mariadb/mariadb --version 11.4.2 --values mariadb_values_localized.yaml
helm install -n dev elasticsearch oci://ghcr.io/acme.org/microblogapp/github.com/jensh007/elasticsearch/elasticsearch --version 8.5.1 --values elasticsearch_values_localized.yaml
helm install -n dev redis oci://ghcr.io/acme.org/microblogapp/github.com/jensh007/redis/redis --version 17.6.0 --values redis_values_localized.yaml
</code></pre><h2 id=updating-components>Updating Components <a href=#updating-components class=anchor aria-hidden=true>#</a></h2><p>Updating components requires two steps:</p><ul><li>Updating the component version of the used sub-component</li><li>Updating the root component version to change the reference to the sub-component.</li></ul><p>Given the example from above let us assume we will update mariadb from 10.11.2 to 10.11.3 and the microblog application component from 0.23.1 to 0.24.0.</p><p>We would create a new root component version:</p><pre><code class=language-yaml>  component:
    componentReferences:
    - componentName: github.com/jensh007/microblog
      name: microblog
      version: 0.24.0
    - componentName: github.com/jensh007/nginx-controller
      name: nginx-controller
      version: 1.5.1
    - componentName: github.com/jensh007/mariadb
      name: mariadb
      version: 10.11.3
    - componentName: github.com/jensh007/elasticsearch
      name: elasticsearch
      version: 8.5.1
    - componentName: github.com/jensh007/redis
      name: redis
      version: 7.0.9
    name: github.com/jensh007/microblog-deployment
    provider:
      name: ocm.software
    repositoryContexts:
    ...
    resources: []
    sources: []
    version: 0.24.0
  meta:
    ...
</code></pre><p>For each of the two updated sub-components mariadb and microblog we would also create a new component version.</p><p>You should never change versions of sub-components without increasing the version of the root component. Otherwise you will lose the history of your bill-of-delivery.</p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"></div><div class="docs-navigation d-flex justify-content-between"><a href=/docs/overview/installation/><div class="card my-1"><div class="card-body py-2">&larr; Installation</div></div></a><a class=ms-auto href=/docs/guides/deploying-applications-with-ocm-and-gitops/><div class="card my-1"><div class="card-body py-2">Deploying Applications with OCM & GitOps &rarr;</div></div></a></div></main></div></div></div><footer class="footer text-muted"><div class=container-fluid><div class="row justify-content-center"><div class=col-lg-12><p class=text-center><small>© Copyright 2022, SAP SE and Open Component Model Contributors | <a href=/privacy-policy/>Privacy Policy</a> | <a href=https://www.sap.com/corporate/en/legal/terms-of-use.html>Terms of Use</a> | <a href=/legal>Legal</a></small></p></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline></ul></div></div></div></footer><script src=/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51+L6gymJi4Qg==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.56a414730f1135fe77b5ea30bf74a2cc4101a6f386e85e5b789c800570cc33d33054000f45932c053a59b41018f72687867254a80e1b9710671852492533162f.js integrity="sha512-VqQUcw8RNf53teowv3SizEEBpvOG6F5beJyABXDMM9MwVAAPRZMsBTpZtBAY9yaHhnJUqA4blxBnGFJJJTMWLw==" crossorigin=anonymous defer></script>
<script src=/main.min.867372088b3d9d28e68d38f8a8365d28934d875dc849d445fe06cc02a75d29286fa27e6ab5f9820c0d5bdcf90711a1ee7a4d89a7e0bee27ebb521ecd1c1f0175.js integrity="sha512-hnNyCIs9nSjmjTj4qDZdKJNNh13ISdRF/gbMAqddKShvon5qtfmCDA1b3PkHEaHuek2Jp+C+4n67Uh7NHB8BdQ==" crossorigin=anonymous defer></script></body></html>